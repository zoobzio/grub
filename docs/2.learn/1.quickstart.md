---
title: Quickstart
description: Get up and running with grub in 5 minutes
author: zoobzio
published: 2025-12-17
updated: 2025-12-17
tags:
  - quickstart
  - tutorial
  - getting-started
---

# Quickstart

This guide gets you from zero to a working grub application in under 5 minutes. We'll use BoltDB as the provider since it requires no external infrastructure.

## Installation

```bash
go get github.com/zoobzio/grub
go get github.com/zoobzio/grub/pkg/bolt
```

## Define Your Model

```go
type Task struct {
    ID          string `json:"id"`
    Title       string `json:"title"`
    Description string `json:"description"`
    Completed   bool   `json:"completed"`
}
```

Any struct that can be serialized to JSON works with grub. The default codec is JSON, but you can provide custom codecs for other formats.

## Create a Provider

```go
import (
    bolt "go.etcd.io/bbolt"
    grubBolt "github.com/zoobzio/grub/pkg/bolt"
)

// Open BoltDB database
db, err := bolt.Open("tasks.db", 0600, nil)
if err != nil {
    log.Fatal(err)
}

// Create provider scoped to "tasks" bucket
provider, err := grubBolt.New(db, "tasks")
if err != nil {
    log.Fatal(err)
}
```

Each provider is configured differently based on its backend. See [Providers Guide](../3.guides/1.providers.md) for details on each.

## Create a Service

```go
import "github.com/zoobzio/grub"

tasks := grub.New[Task](provider)
```

The service wraps your provider with:
- Type-safe operations via generics
- JSON serialization (configurable)
- Observability signals via Capitan

## CRUD Operations

### Create / Update

```go
task := Task{
    ID:          "task-001",
    Title:       "Learn grub",
    Description: "Complete the quickstart guide",
    Completed:   false,
}

err := tasks.Set(ctx, task.ID, task)
```

`Set` creates or overwrites the record. There's no separate Create vs Update - it's always an upsert.

### Read

```go
task, err := tasks.Get(ctx, "task-001")  // task is *Task
if errors.Is(err, grub.ErrNotFound) {
    // Handle missing record
}
```

### Check Existence

```go
exists, err := tasks.Exists(ctx, "task-001")
```

### Delete

```go
err := tasks.Delete(ctx, "task-001")
if errors.Is(err, grub.ErrNotFound) {
    // Already deleted or never existed
}
```

### List Keys

```go
keys, nextCursor, err := tasks.List(ctx, "", 10)
// keys: ["task-001", "task-002", ...]
// nextCursor: use for next page, empty if no more
```

### Count

```go
count, err := tasks.Count(ctx)
```

## Complete Example

```go
package main

import (
    "context"
    "errors"
    "fmt"
    "log"

    bolt "go.etcd.io/bbolt"
    "github.com/zoobzio/grub"
    grubBolt "github.com/zoobzio/grub/pkg/bolt"
)

type Task struct {
    ID          string `json:"id"`
    Title       string `json:"title"`
    Description string `json:"description"`
    Completed   bool   `json:"completed"`
}

func main() {
    ctx := context.Background()

    // Setup
    db, err := bolt.Open("tasks.db", 0600, nil)
    if err != nil {
        log.Fatal(err)
    }

    provider, err := grubBolt.New(db, "tasks")
    if err != nil {
        log.Fatal(err)
    }
    defer provider.Close(ctx)

    // Health check
    if err := provider.Health(ctx); err != nil {
        log.Fatal("Provider unhealthy:", err)
    }

    tasks := grub.New[Task](provider)

    // Create tasks
    for i := 1; i <= 5; i++ {
        task := Task{
            ID:    fmt.Sprintf("task-%03d", i),
            Title: fmt.Sprintf("Task %d", i),
        }
        if err := tasks.Set(ctx, task.ID, task); err != nil {
            log.Fatal(err)
        }
    }

    // Count
    count, _ := tasks.Count(ctx)
    fmt.Printf("Total tasks: %d\n", count)

    // List all
    keys, _, _ := tasks.List(ctx, "", 100)
    fmt.Printf("Task IDs: %v\n", keys)

    // Get one
    task, err := tasks.Get(ctx, "task-001")  // task is *Task
    if err != nil {
        log.Fatal(err)
    }
    fmt.Printf("Retrieved: %s\n", task.Title)

    // Update
    task.Completed = true
    tasks.Set(ctx, task.ID, *task)

    // Delete
    tasks.Delete(ctx, "task-005")

    // Verify deletion
    _, err = tasks.Get(ctx, "task-005")
    if errors.Is(err, grub.ErrNotFound) {
        fmt.Println("task-005 deleted successfully")
    }
}
```

## Next Steps

- **[Concepts](2.concepts.md)** - Understand the Provider, Service, and Codec abstractions
- **[Providers Guide](../3.guides/1.providers.md)** - Configure Redis, S3, MongoDB, and other backends
- **[Lifecycle Guide](../3.guides/2.lifecycle.md)** - Connection management and health checks
- **[Testing Guide](../3.guides/4.testing.md)** - Use MockProvider for unit tests
